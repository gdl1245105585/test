`begin_keywords "1800-2017"
`line 1 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 1
 
 
 

`line 5 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
 

`line 7 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
 

`line 9 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
 
`line 9 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
`line 1 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 1
 
`line 3 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0

`line 3 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 
 
 
 
 
 
 
 
 

`line 13 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 
 

`line 16 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 
 
















`line 34 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 
 


`line 38 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 
 







`line 47 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 














`line 62 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 















`line 78 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 








`line 87 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 













`line 101 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 











`line 113 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 











`line 125 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 















`line 141 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 
















`line 158 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 









`line 168 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 














`line 183 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 















`line 199 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 
















`line 216 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 0
 






`line 223 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/registers.svh" 2
`line 9 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0

`line 10 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
 
`line 10 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
`line 1 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 1
 
`line 2 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 
 

`line 5 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 
 
 

`line 9 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 
 

`line 12 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 
  
   
     
     
       
       
    
  







`line 28 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 
 
 
 
   




`line 37 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 


`line 40 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 












`line 53 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 
 



`line 58 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 








`line 67 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 












`line 80 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 











`line 92 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 












`line 105 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 









`line 115 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 





`line 121 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 









`line 131 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 






`line 138 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 






`line 145 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 










`line 156 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 








`line 165 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 
















`line 182 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 






`line 189 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 






`line 196 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
 




`line 201 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 0
  

`line 203 "/repo/hw/system/snitch_cluster/.bender/git/checkouts/common_cells-f9d1cdce7573d0e2/include/common_cells/assertions.svh" 2
`line 10 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0


`line 12 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
module snitch_ssr_indirector import snitch_ssr_pkg::*; #(
  parameter ssr_cfg_t Cfg = '0,
  parameter int unsigned AddrWidth = 0,
  parameter int unsigned DataWidth = 0,
  parameter type tcdm_req_t   = logic,
  parameter type tcdm_rsp_t   = logic,
  parameter type tcdm_user_t  = logic,
  parameter type isect_slv_req_t = logic,
  parameter type isect_slv_rsp_t = logic,
  parameter type isect_mst_req_t = logic,
  parameter type isect_mst_rsp_t = logic,
   
  parameter int unsigned BytecntWidth = $clog2(DataWidth/8),
  parameter type addr_t     = logic [AddrWidth-1:0],
  parameter type data_t     = logic [DataWidth-1:0],
  parameter type data_bte_t = logic [DataWidth/8-1:0][7:0],
  parameter type strb_t     = logic [DataWidth/8-1:0],
  parameter type bytecnt_t  = logic [BytecntWidth-1:0],
  parameter type index_t    = logic [Cfg.IndexWidth-1:0],
  parameter type pointer_t  = logic [Cfg.PointerWidth-1:0],
  parameter type shift_t    = logic [Cfg.ShiftWidth-1:0],
  parameter type idx_size_t = logic [$clog2($clog2(DataWidth/8)+1)-1:0]
) (
  input  logic      clk_i,
  input  logic      rst_ni,
   
  output tcdm_req_t idx_req_o,
  input  tcdm_rsp_t idx_rsp_i,
   
  output isect_slv_req_t isect_slv_req_o,
  input  isect_slv_rsp_t isect_slv_rsp_i,
  output isect_mst_req_t isect_mst_req_o,
  input  isect_mst_rsp_t isect_mst_rsp_i,
   
  input  bytecnt_t  cfg_offs_next_i,
  input  logic      cfg_done_i,
  input  logic      cfg_indir_i,
  input  logic      cfg_isect_slv_i,     
  input  logic      cfg_isect_mst_i,     
  input  logic      cfg_isect_slv_ena_i,   
  input  idx_size_t cfg_size_i,
  input  pointer_t  cfg_base_i,
  input  shift_t    cfg_shift_i,
  input  idx_flags_t  cfg_flags_i,
  output index_t    cfg_idx_isect_o,
   
  input  pointer_t  natit_pointer_i,
  output logic      natit_ready_o,
  input  logic      natit_done_i,        
  input  bytecnt_t  natit_boundoffs_i,   
  output logic      natit_extraword_o,   
   
  output pointer_t  mem_pointer_o,
  output logic      mem_last_o,          
  output logic      mem_zero_o,          
  output logic      mem_done_o,          
  output logic      mem_valid_o,
  input  logic      mem_ready_i
);

`line 72 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
   
  addr_t  idx_addr;

`line 75 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
   
  index_t mem_idx;
  logic   mem_skip;

`line 79 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
   
  logic   idx_isect_ena;
  index_t idx_isect_q;

`line 83 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
   
  logic     idx_bytecnt_ena;
  bytecnt_t idx_bytecnt_d, idx_bytecnt_q;
  bytecnt_t idx_bytecnt_next;
  logic     idx_bytecnt_rovr, idx_bytecnt_rovr_q;

`line 89 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
   
  logic idx_q_hs, idx_p_hs;
  assign idx_q_hs = idx_req_o.q_valid & idx_rsp_i.q_ready;
  assign idx_p_hs = idx_rsp_i.p_valid;

`line 94 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
   
  logic mem_hs;
  assign mem_hs = mem_valid_o & mem_ready_i;

`line 98 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  if (Cfg.IsectSlave) begin : gen_isect_slave

`line 100 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    logic       idx_word_valid_d, idx_word_valid_q, idx_word_clr;
    strb_t      idx_strb_base, idx_strb_incr;
    strb_t      idx_strb_d, idx_strb_q;
    data_bte_t  idx_data_mask, idx_data_shifted;
    data_bte_t  idx_data_d, idx_data_q;

`line 107 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    logic done_pending_q;

`line 110 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    index_t isect_slv_idx;
    logic   isect_slv_done;
    logic   isect_slv_valid, isect_slv_ready;
    logic   isect_slv_hs;

`line 116 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    logic idx_req_stall;

`line 119 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    logic done_in_ready;
    logic done_out_valid, done_out_ready;
    logic done_out;

`line 124 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign idx_req_o.q = '{addr: idx_addr, write: 1'b1,
        strb: idx_strb_q, data: idx_data_q, amo: reqrsp_pkg::AMONone, default: '0};

`line 128 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign idx_req_o.q_valid = idx_word_valid_q;

`line 131 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign natit_ready_o = idx_q_hs;

`line 134 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    logic isect_slv_up_hs, isect_cnt_swap;
    index_t isect_cnt;
    assign isect_slv_up_hs = isect_slv_rsp_i.valid & isect_slv_req_o.ready;
    assign isect_cnt_swap  = isect_slv_up_hs & isect_slv_rsp_i.done;
    
`line 139 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  
`line 139 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  always_ff @(posedge (clk_i) or negedge (rst_ni)) begin                                    
`line 139 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    if (!rst_ni) begin                                                                      
`line 139 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      cfg_idx_isect_o <= ('0);                                                                 
`line 139 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end else begin                                                                            
`line 139 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      cfg_idx_isect_o <= (isect_cnt_swap) ? (isect_cnt) : (cfg_idx_isect_o);                                                        
`line 139 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end                                                                                       
`line 139 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end

`line 141 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    counter #(
      .WIDTH            ( Cfg.IndexWidth ),
      .STICKY_OVERFLOW  ( 1'b0 )
    ) i_isect_counter (
      .clk_i,
      .rst_ni,
      .clear_i    ( isect_cnt_swap  ),
      .en_i       ( isect_slv_up_hs ),
      .load_i     ( '0  ),
      .down_i     ( '0  ),
      .d_i        ( '0  ),
      .q_o        ( isect_cnt ),
      .overflow_o (     )
    );

`line 157 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    spill_register #(
      .T        ( logic [Cfg.IndexWidth:0] ),
      .Bypass   ( Cfg.IsectSlaveSpill   )
      ) i_spill_slv_idx (
      .clk_i,
      .rst_ni,
      .valid_i  ( isect_slv_rsp_i.valid ),
      .ready_o  ( isect_slv_req_o.ready ),
      .data_i   ( {isect_slv_rsp_i.idx, isect_slv_rsp_i.done} ),
      .valid_o  ( isect_slv_valid ),
      .ready_i  ( isect_slv_ready ),
      .data_o   ( {isect_slv_idx, isect_slv_done} )
    );

`line 172 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign idx_req_stall    = idx_req_o.q_valid & ~idx_rsp_i.q_ready;
    assign isect_slv_ready  = ~idx_req_stall & done_in_ready & ~done_pending_q;

`line 176 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign isect_slv_hs     = isect_slv_valid & isect_slv_ready;
    assign idx_bytecnt_ena  = isect_slv_hs & ~isect_slv_done;

`line 180 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
     
    logic cfg_indir_next;
    assign cfg_indir_next = cfg_isect_slv_i & isect_slv_hs & isect_slv_done;

`line 185 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    
`line 186 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                      
`line 186 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                  
`line 186 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                                     
`line 186 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  always_ff @(posedge (clk_i) or negedge (rst_ni)) begin                 
`line 186 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    if (!rst_ni) begin                                                   
`line 186 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      done_pending_q <= (1'b0);                                              
`line 186 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end else begin                                                         
`line 186 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      done_pending_q <= (cfg_done_i) ? (1'b0) : (cfg_indir_next) ? (1'b1) : (done_pending_q);       
`line 186 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end                                                                    
`line 186 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end

`line 188 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign idx_strb_base    = ~({(DataWidth/8){1'b1}} << (1 << cfg_size_i));
    assign idx_strb_incr    = idx_strb_base << idx_bytecnt_q;
    assign idx_data_mask    = ~({(DataWidth){1'b1}} << (8 << cfg_size_i)) << {idx_bytecnt_q, 3'b0};
    assign idx_data_shifted = data_t'(isect_slv_idx) << {idx_bytecnt_q, 3'b0};

`line 194 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign idx_data_d = (idx_data_q & ~idx_data_mask) | (idx_data_shifted & idx_data_mask);
    assign idx_strb_d = idx_bytecnt_rovr_q ? idx_strb_base : (idx_strb_q | idx_strb_incr);

`line 198 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
     
    assign idx_word_valid_d = idx_bytecnt_rovr | (~idx_bytecnt_rovr_q & isect_slv_done);
    assign idx_word_clr     = idx_q_hs & ~isect_slv_hs;

`line 203 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    
`line 203 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  
`line 203 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  always_ff @(posedge (clk_i) or negedge (rst_ni)) begin                                    
`line 203 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    if (!rst_ni) begin                                                                      
`line 203 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      idx_data_q <= (1'b0);                                                                 
`line 203 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end else begin                                                                            
`line 203 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      idx_data_q <= (idx_bytecnt_ena) ? (idx_data_d) : (idx_data_q);                                                        
`line 203 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end                                                                                       
`line 203 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end
    
`line 204 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  
`line 204 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  always_ff @(posedge (clk_i) or negedge (rst_ni)) begin                                    
`line 204 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    if (!rst_ni) begin                                                                      
`line 204 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      idx_strb_q <= (1'b0);                                                                 
`line 204 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end else begin                                                                            
`line 204 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      idx_strb_q <= (idx_bytecnt_ena) ? (idx_strb_d) : (idx_strb_q);                                                        
`line 204 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end                                                                                       
`line 204 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end
    
`line 205 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                      
`line 205 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                  
`line 205 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                                     
`line 205 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  always_ff @(posedge (clk_i) or negedge (rst_ni)) begin                 
`line 205 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    if (!rst_ni) begin                                                   
`line 205 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      idx_word_valid_q <= (1'b0);                                              
`line 205 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end else begin                                                         
`line 205 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      idx_word_valid_q <= (idx_word_clr) ? (1'b0) : (isect_slv_hs) ? (idx_word_valid_d) : (idx_word_valid_q);       
`line 205 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end                                                                    
`line 205 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end

`line 207 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    stream_fifo #(
      .FALL_THROUGH ( 0 ),
      .DATA_WIDTH   ( 1 ),
      .DEPTH        ( Cfg.IsectSlaveCredits )
    ) i_done_fifo (
      .clk_i,
      .rst_ni,
      .flush_i    ( 1'b0 ),
      .testmode_i ( 1'b0 ),
      .usage_o    (  ),
      .data_i     ( isect_slv_done  ),
      .valid_i    ( isect_slv_hs    ),
      .ready_o    ( done_in_ready   ),
      .data_o     ( done_out        ),
      .valid_o    ( done_out_valid  ),
      .ready_i    ( done_out_ready  )
    );

`line 226 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    assign done_out_ready = mem_ready_i;

`line 228 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign isect_mst_req_o    = '0;
    assign natit_extraword_o  = 1'b0;

`line 232 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign isect_slv_req_o.ena  = ~(done_pending_q | cfg_done_i) & cfg_isect_slv_i;
    assign idx_isect_ena        = done_out_valid & done_out_ready & ~done_out;

`line 236 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign mem_idx      = idx_isect_q;
    assign mem_skip     = 1'b0;
    assign mem_zero_o   = 1'b0;
    assign mem_last_o   = 1'b0;
    assign mem_done_o   = done_out;
    assign mem_valid_o  = done_out_valid;

`line 244 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end else begin : gen_no_isect_slave

`line 246 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    logic   natit_ena;

`line 249 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    logic   idx_fifo_empty;
    logic   idx_fifo_pop;
    data_t  idx_fifo_out;

`line 254 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    data_t  idx_ser_mask;
    index_t idx_ser_out;
    logic   idx_ser_last;
    logic   idx_ser_valid;

`line 260 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    logic     last_word;
    bytecnt_t first_idx_byteoffs;
    bytecnt_t last_idx_byteoffs;

`line 265 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    logic isect_mst_hs;
    logic isect_mst_dom;
    logic isect_mst_doi_q;
    logic isect_mst_blk_q;
    logic isect_idx_lockin;

`line 272 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    logic idx_cred_left, idx_cred_crit;

`line 275 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    if (Cfg.IsectMaster) begin : gen_isect_master

`line 277 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      logic idx_has_inflight;

`line 279 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
       
      snitch_ssr_credit_counter #(
        .NumCredits       ( Cfg.IndexCredits ),
        .InitCreditEmpty  ( 1 )
      ) i_mem_inflight_counter (
        .clk_i,
        .rst_ni,
        .credit_o      ( ),
        .credit_give_i ( idx_q_hs ),
        .credit_take_i ( idx_p_hs ),
        .credit_init_i ( 1'b0 ),
        .credit_left_o ( idx_has_inflight ),
        .credit_crit_o ( ),
        .credit_full_o ( )
      );

`line 295 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
       
      assign isect_mst_hs = isect_mst_req_o.valid & isect_mst_rsp_i.ready;

`line 298 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
       
      logic isect_mst_cln_init;
      assign isect_mst_cln_init = isect_mst_hs &
          (isect_mst_rsp_i.done | (~cfg_flags_i.merge & idx_ser_last));

`line 303 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
       
       
       
       
      logic isect_mst_dom_set, isect_mst_dom_clr;
      logic isect_mst_domp_q, isect_mst_dom_q;
      assign isect_mst_dom_set = cfg_flags_i.merge ? isect_mst_cln_init :
          (isect_mst_domp_q & ~(idx_req_o.q_valid | idx_has_inflight));
      assign isect_mst_dom_clr = mem_hs & isect_mst_dom_q;
      
`line 312 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                      
`line 312 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                  
`line 312 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                                     
`line 312 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  always_ff @(posedge (clk_i) or negedge (rst_ni)) begin                 
`line 312 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    if (!rst_ni) begin                                                   
`line 312 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      isect_mst_domp_q <= (1'b0);                                              
`line 312 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end else begin                                                         
`line 312 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      isect_mst_domp_q <= (isect_mst_dom_q) ? (1'b0) : (isect_mst_cln_init) ? (1'b1) : (isect_mst_domp_q);       
`line 312 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end                                                                    
`line 312 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end
      
`line 313 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                      
`line 313 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                  
`line 313 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                                     
`line 313 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  always_ff @(posedge (clk_i) or negedge (rst_ni)) begin                 
`line 313 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    if (!rst_ni) begin                                                   
`line 313 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      isect_mst_dom_q <= (1'b0);                                              
`line 313 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end else begin                                                         
`line 313 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      isect_mst_dom_q <= (isect_mst_dom_clr) ? (1'b0) : (isect_mst_dom_set) ? (1'b1) : (isect_mst_dom_q);       
`line 313 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end                                                                    
`line 313 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end
      assign isect_mst_dom = isect_mst_dom_q;

`line 316 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
       
      logic isect_mst_doi_set, isect_mst_doi_clr;
      assign isect_mst_doi_set = cfg_flags_i.merge ? idx_ser_last : isect_mst_cln_init;
      assign isect_mst_doi_clr = isect_mst_hs & isect_mst_rsp_i.done;
      
`line 320 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                      
`line 320 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                  
`line 320 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                                     
`line 320 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  always_ff @(posedge (clk_i) or negedge (rst_ni)) begin                 
`line 320 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    if (!rst_ni) begin                                                   
`line 320 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      isect_mst_doi_q <= (1'b0);                                              
`line 320 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end else begin                                                         
`line 320 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      isect_mst_doi_q <= (isect_mst_doi_clr) ? (1'b0) : (isect_mst_doi_set) ? (1'b1) : (isect_mst_doi_q);       
`line 320 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end                                                                    
`line 320 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end

`line 322 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
       
      
`line 323 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                      
`line 323 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                  
`line 323 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                                     
`line 323 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  always_ff @(posedge (clk_i) or negedge (rst_ni)) begin                 
`line 323 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    if (!rst_ni) begin                                                   
`line 323 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      isect_mst_blk_q <= (1'b0);                                              
`line 323 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end else begin                                                         
`line 323 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      isect_mst_blk_q <= (cfg_done_i) ? (1'b0) : (isect_mst_cln_init) ? (1'b1) : (isect_mst_blk_q);       
`line 323 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end                                                                    
`line 323 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end

`line 325 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
       
      logic isect_idx_lockin_set;
      assign isect_idx_lockin_set = isect_mst_cln_init & idx_req_o.q_valid;
      
`line 328 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                      
`line 328 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                  
`line 328 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
                                                                     
`line 328 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  always_ff @(posedge (clk_i) or negedge (rst_ni)) begin                 
`line 328 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    if (!rst_ni) begin                                                   
`line 328 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      isect_idx_lockin <= (1'b0);                                              
`line 328 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end else begin                                                         
`line 328 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      isect_idx_lockin <= (idx_q_hs) ? (1'b0) : (isect_idx_lockin_set) ? (1'b1) : (isect_idx_lockin);       
`line 328 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end                                                                    
`line 328 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end

`line 330 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end else begin : gen_no_isect_master
      assign isect_mst_hs     = 1'b0;
      assign isect_mst_dom    = 1'b0;
      assign isect_mst_doi_q  = 1'b0;
      assign isect_mst_blk_q  = 1'b0;
      assign isect_idx_lockin = 1'b0;
    end

`line 338 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign idx_req_o.q = '{addr: idx_addr, amo: reqrsp_pkg::AMONone, default: '0};

`line 341 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign natit_ena          = cfg_indir_i & idx_cred_left & ~isect_mst_blk_q & ~natit_done_i;
    assign idx_req_o.q_valid  = natit_ena | isect_idx_lockin;
    assign natit_ready_o      = natit_ena & idx_rsp_i.q_ready;

`line 346 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    fifo_v3 #(
      .FALL_THROUGH ( 1'b0              ),
      .DATA_WIDTH   ( DataWidth         ),
      .DEPTH        ( Cfg.IndexCredits  )
    ) i_idx_fifo (
      .clk_i,
      .rst_ni,
      .flush_i    ( isect_mst_blk_q   ),
      .testmode_i ( 1'b0              ),
      .full_o     (  ),                      
      .empty_o    ( idx_fifo_empty    ),
      .usage_o    (  ),
      .data_i     ( idx_rsp_i.p.data  ),
      .push_i     ( idx_p_hs          ),
      .data_o     ( idx_fifo_out      ),
      .pop_i      ( idx_fifo_pop      )
    );

`line 365 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
     
    snitch_ssr_credit_counter #(
      .NumCredits       ( Cfg.IndexCredits ),
      .InitCreditEmpty  ( 0 )
      ) i_credit_counter (
      .clk_i,
      .rst_ni,
      .credit_o      (  ),
      .credit_give_i ( idx_fifo_pop     ),
      .credit_take_i ( idx_q_hs         ),
      .credit_init_i ( isect_mst_blk_q  ),
      .credit_left_o ( idx_cred_left    ),
      .credit_crit_o ( idx_cred_crit    ),
      .credit_full_o ( )
    );

`line 382 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
     
    assign last_word          = idx_cred_crit & natit_done_i;
    assign first_idx_byteoffs = bytecnt_t'(natit_pointer_i);
    assign {natit_extraword_o, last_idx_byteoffs} = first_idx_byteoffs + natit_boundoffs_i;

`line 388 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign idx_fifo_pop = idx_bytecnt_ena &
        (last_word ? idx_bytecnt_q == last_idx_byteoffs : idx_bytecnt_rovr);

`line 392 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign idx_ser_mask   = ~({DataWidth{1'b1}} << (8 << cfg_size_i));
    assign idx_ser_out    = (idx_fifo_out >> {idx_bytecnt_q, 3'b0}) & idx_ser_mask;
    assign idx_ser_last   = last_word & idx_fifo_pop & ~isect_mst_blk_q;
    assign idx_ser_valid  = ~idx_fifo_empty;

`line 398 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign isect_slv_req_o = '{ena: '0, ready: '0};
    assign cfg_idx_isect_o = '0;

`line 402 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    assign idx_bytecnt_ena = (mem_hs & ~mem_zero_o & ~mem_done_o) | mem_skip;

`line 405 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
     
    always_comb begin
      if (Cfg.IsectMaster & cfg_isect_mst_i) begin
        isect_mst_req_o = '{
            merge:    cfg_flags_i.merge,
            slv_ena:  cfg_isect_slv_ena_i,
            idx:      idx_ser_out,
            done:     isect_mst_doi_q,
            valid:    isect_mst_doi_q | (idx_ser_valid & mem_ready_i)
            };
        idx_isect_ena   = idx_bytecnt_ena;
        mem_idx         = idx_isect_q;
        mem_skip        = isect_mst_hs & isect_mst_rsp_i.skip;
        mem_zero_o      = isect_mst_rsp_i.zero;
        mem_done_o      = isect_mst_dom;
        mem_last_o      = 1'b0;
        mem_valid_o     = isect_mst_dom |
            (isect_mst_hs & ~isect_mst_rsp_i.skip & ~isect_mst_rsp_i.done);
      end else begin
        isect_mst_req_o = '0;
        idx_isect_ena   = 1'b0;
        mem_idx         = idx_ser_out;
        mem_skip        = 1'b0;
        mem_zero_o      = 1'b0;
        mem_done_o      = 1'b0;
        mem_last_o      = idx_ser_last;
        mem_valid_o     = idx_ser_valid;
      end
    end

`line 435 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end

`line 437 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
   
  if (Cfg.IsectMaster | Cfg.IsectSlave) begin : gen_isect_ctr
    index_t idx_isect_d;
    always_comb begin
      idx_isect_d = idx_isect_q;
      if (cfg_done_i)         idx_isect_d = '0;
      else if (idx_isect_ena) idx_isect_d = idx_isect_q + 1;
    end
    
`line 445 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  
`line 445 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  always_ff @(posedge (clk_i) or negedge (rst_ni)) begin                           
`line 445 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    if (!rst_ni) begin                                                             
`line 445 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      idx_isect_q <= ('0);                                                        
`line 445 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end else begin                                                                   
`line 445 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      idx_isect_q <= (idx_isect_d);                                                                  
`line 445 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end                                                                              
`line 445 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end
  end else begin : gen_no_isect_ctr
    assign idx_isect_q = '0;
  end

`line 450 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
   
  assign idx_addr = {natit_pointer_i[Cfg.PointerWidth-1:BytecntWidth], {BytecntWidth{1'b0}}};

`line 453 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
   
  assign mem_pointer_o = cfg_base_i + ((pointer_t'(mem_idx) << BytecntWidth) << cfg_shift_i);

`line 456 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
   
  always_comb begin
    idx_bytecnt_d = idx_bytecnt_q;
     
    if (cfg_done_i)           idx_bytecnt_d = cfg_offs_next_i;
    else if (idx_bytecnt_ena) idx_bytecnt_d = idx_bytecnt_next;
  end

`line 464 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  
`line 464 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  
`line 464 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  always_ff @(posedge (clk_i) or negedge (rst_ni)) begin                           
`line 464 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    if (!rst_ni) begin                                                             
`line 464 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      idx_bytecnt_q <= ('0);                                                        
`line 464 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end else begin                                                                   
`line 464 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
      idx_bytecnt_q <= (idx_bytecnt_d);                                                                  
`line 464 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
    end                                                                              
`line 464 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  end

`line 466 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
  assign idx_bytecnt_next = idx_bytecnt_q + bytecnt_t'(1 << cfg_size_i);

`line 468 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
   
  assign idx_bytecnt_rovr   = (idx_bytecnt_next == '0);
  assign idx_bytecnt_rovr_q = (idx_bytecnt_q    == '0);    

`line 472 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 0
endmodule

`line 474 "/repo/hw/ip/snitch_ssr/src/snitch_ssr_indirector.sv" 2
